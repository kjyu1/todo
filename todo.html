<!DOCTYPE html>
<html>
<head>
    <title>Todo app</title>
    <script   src="https://code.jquery.com/jquery-2.2.3.min.js"   integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo="   crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="stylesheet.css">
</head>

<body>
    <table id="task-table">
        <tr bgcolor="gray">
            <th><input type="checkbox" id="allChecked"></th>
            <th><font color="yellow"><strong>Task</strong></font></th>
            <th>Due Date</th>
            <th></th>
        </tr>
        <tr>
            <td><input type="checkbox" class="checkbox"></td>
            <td class="taskname">Task 2</td>
            <td type="date">2016-04-20</td>
            <td><input type="button" value="x" class="del-btn"></td>
        </tr>
        <tr>
            <td><input type="checkbox" class="checkbox"></td>
            <td class="taskname">Task 3</td>
            <td type="date">2016-04-21</td>
            <td><input type="button" value="x" class="del-btn"></td>
        </tr>

    </table>
    <input type="text" id="newTask" placeholder="Input Task">
    <input type="date" id="newDueDate">
    <input type="submit" value="Submit" id="newTaskButton">
</body>

<script>
    function deleteRow(){
        $(this).parent().parent().remove();
    };

    function clickCheckbox() {
        var tr = $(this).parent().parent()
        var delbtns = tr.find('.del-btn');
        if (this.checked) {
            tr.addClass('checked1');

            delbtns.prop('disabled', true);

        }
        else {
            tr.removeClass('checked1');

            delbtns.prop('disabled', false);
        }
    };

    function allCheckbox() {
        var tds = $(document).find('tr td');
        var checks = tds.find('.checkbox');
        var dels = tds.find('.del-btn');
//            var tasks = tr.find('.taskname');

        if (this.checked) {
            checks.prop('checked', true);
            tds.parent().addClass('checked1');
            dels.prop('disabled', true);

        }
        else {
            checks.prop('checked', false);
            tds.parent().removeClass('checked1');
            dels.prop('disabled', false);
        }
    };

    function addRows() {
        var tr = $('<tr/>');

        var td1 = $('<td><input type="checkbox" class="checkbox"></td>');
        var td2 = $('<td class="taskname">'+$('#newTask')[0].value+'</td>');
        var td3 = $('<td type="date">'+$('#newDueDate')[0].value+'</td>');
        var td4 = $('<td><input type="button" value="x" class="del-btn"></td>');

        ttable.append(tr.append([td1,td2,td3,td4]));
        $('#newTask')[0].value = "";
        $('#newDueDate')[0].value = "";
    };

    var ttable;
    $(document).ready(function(){
        ttable = $("#task-table");
        ttable.on('click', '.del-btn', deleteRow);
        ttable.on('click', '.checkbox', clickCheckbox);
        ttable.on('click', '#allChecked', allCheckbox);
        $("#newTaskButton").on('click', addRows);
    });
</script>

</html>